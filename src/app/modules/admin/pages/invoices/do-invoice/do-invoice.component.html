<div class="w-full" *transloco="let t">
    <div class="flex w-full justify-between">
        <h1 class="mt-3 text-2xl font-semibold tracking-tight text-slate-900 flex justify-between">
            {{t('invoices.detail.title')}}
        </h1>

        <button class="fuse-mat-button px-5 mt-5 bg-primary text-white" mat-flat-button (click)="do()"
            *ngIf="!userService.isProvider">
            <span> Procesar factura </span>
        </button>
    </div>

    <div class="flex flex-col mt-4">
        <div class="w-full mt-3">
            <h3 class="font-extrabold"> {{t('invoices.invoicedetail')}} </h3>

            <div class="flex gap-3 w-full">
                <button class="fuse-mat-button bg-primary w-50 mt-5" mat-flat-button [color]="'primary'"
                    (click)="openSelectFile()">
                    <span> Adjuntar XML </span>
                </button>

                <button class="fuse-mat-button bg-accent w-50 mt-5" mat-flat-button [color]="'primary'"
                    (click)="openSelectFile()">
                    <span> Adjuntar PDF </span>
                </button>

                <button class="fuse-mat-button bg-indigo-900 w-50 mt-5" mat-flat-button [color]="'primary'"
                    (click)="openSelectFile()">
                    <span> Adjuntar conformidad </span>
                </button>
            </div>


            <div class="mt-5">
                <ng-container>
                    <table mat-table [dataSource]="dataSource" class="w-full">
                        <ng-container matColumnDef="socialreason">
                            <th mat-header-cell *matHeaderCellDef>{{ t('globals.socialreason') }}</th>
                            <td mat-cell *matCellDef="let element">{{element.socialreason}}</td>
                        </ng-container>

                        <ng-container matColumnDef="ruc">
                            <th mat-header-cell *matHeaderCellDef>{{ t('globals.ruc') }}</th>
                            <td mat-cell *matCellDef="let element">{{element.ruc}}</td>
                        </ng-container>

                        <ng-container matColumnDef="emisiondate">
                            <th mat-header-cell *matHeaderCellDef>{{t('globals.emisiondate')}}</th>
                            <td mat-cell *matCellDef="let element">{{element.emisiondate}}</td>
                        </ng-container>

                        <ng-container matColumnDef="reference">
                            <th mat-header-cell *matHeaderCellDef>{{t('globals.reference')}}</th>
                            <td mat-cell *matCellDef="let element">{{element.reference}}</td>
                        </ng-container>

                        <ng-container matColumnDef="currency">
                            <th mat-header-cell *matHeaderCellDef>{{t('globals.currency')}}</th>
                            <td mat-cell *matCellDef="let element">{{element.currency}}</td>
                        </ng-container>

                        <ng-container matColumnDef="subtotal">
                            <th mat-header-cell *matHeaderCellDef>{{t('globals.subtotal')}}</th>
                            <td mat-cell *matCellDef="let element">{{element.subtotal}}</td>
                        </ng-container>

                        <ng-container matColumnDef="igv">
                            <th mat-header-cell *matHeaderCellDef>{{t('globals.igv')}}</th>
                            <td mat-cell *matCellDef="let element">{{element.igv}}</td>
                        </ng-container>

                        <ng-container matColumnDef="total">
                            <th mat-header-cell *matHeaderCellDef>{{t('globals.total')}}</th>
                            <td mat-cell *matCellDef="let element">{{element.total}}</td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                    </table>

                    <div class="w-full justify-end">
                        <mat-paginator showFirstLastButtons [pageSizeOptions]="[10, 25, 100]"></mat-paginator>
                    </div>
                </ng-container>

            </div>
        </div>
    </div>

    <div class="flex w-full justify-end">
        <button class="fuse-mat-button px-5 mt-5 bg-primary text-white" mat-flat-button (click)="do()"
            *ngIf="!userService.isProvider">
            <span> Procesar factura </span>
        </button>
    </div>
</div>
