<div class="w-full mx-auto sm:mx-0" *transloco="let t">
    <div class="mt-2 text-2xl font-extrabold tracking-tight leading-tight">{{ t('ubi.registro_ubi') }}</div>

    <form class="mt-8" [formGroup]="fgr">
        <div class="flex gap-2">
            <mat-form-field class="w-full fuse-mat-dense">
                <mat-label>{{ t('ubi.pais') }}</mat-label>
                <mat-select placeholder="{{t('ubi.selecciona_tipo')}}" [formControlName]="'idPais'">
                    <mat-option *ngFor="let item of pais" [value]="item.id">{{ item.nombre }}</mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field class="w-full fuse-mat-dense">
                <mat-label>{{ t('ubi.tipo_of') }}</mat-label>
                <mat-select placeholder="{{t('ubi.selecciona_tipo')}}" [formControlName]="'idTipo'">
                    <mat-option *ngFor="let item of tipo" [value]="item.id">{{ item.nombre }}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div class="flex gap-2">
            <mat-form-field class="w-full fuse-mat-dense">
                <mat-label>{{ t('ubi.calle') }}</mat-label>
                <mat-select placeholder="{{t('ubi.selecciona_tipo')}}" [formControlName]="'idTipoCalle'">
                    <mat-option *ngFor="let item of tipoCalle" [value]="item.id">{{ item.nombre }}</mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field class="w-full fuse-mat-dense">
                <mat-label>{{ t('ubi.tipoZona') }}</mat-label>
                <mat-select placeholder="{{t('ubi.selecciona_tipo')}}" [formControlName]="'idTipoZona'">
                    <mat-option *ngFor="let item of tipoZona" [value]="item.id">{{ item.nombre }}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>

        <ng-container *ngIf="fcCountry == 'peru' || fcCountry == 'PERÚ'">
            <mat-form-field class="w-full fuse-mat-dense">
                <mat-label>{{ t('ubigeo.region') }}</mat-label>
                <mat-select placeholder="Selecciona una Región" formControlName="idRegion"
                    (selectionChange)="cargarProvincias($event.value)">
                    <mat-option *ngFor="let item of regiones" [value]="item.id">{{ item.nombre }}</mat-option>
                </mat-select>
            </mat-form-field>
            <div class="flex gap-2">
                <mat-form-field class="w-full fuse-mat-dense">
                    <mat-label>{{ t('ubigeo.provincia') }}</mat-label>
                    <mat-select placeholder="Selecciona una Provincia" formControlName="idProvincia"
                        (selectionChange)="cargarDistritos($event.value)">
                        <mat-option *ngFor="let item of provincias" [value]="item.id">{{ item.nombre }}</mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field class="w-full fuse-mat-dense">
                    <mat-label>{{ t('ubi.distrito') }}</mat-label>
                    <mat-select placeholder="Selecciona un Distrito" [formControlName]="'idDistrito'">
                        <mat-option *ngFor="let item of distritos" [value]="item.id">{{ item.nombre }}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        </ng-container>
        <div class="flex gap-2">
            <mat-form-field class="w-full fuse-mat-dense">
                <mat-label>{{ t('ubi.tipoDireccion') }}</mat-label>
                <mat-select placeholder="{{t('ubi.selecciona_tipo')}}" [formControlName]="'idTipoDireccion'">
                    <mat-option *ngFor="let item of tipoDirecion" [value]="item.id">{{ item.nombre }}</mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field class="w-full fuse-mat-dense">
                <mat-label>{{ t('ubi.telefono') }}</mat-label>
                <input *ngIf="fcCountry == 'PERÚ'" id="email" matInput [formControlName]="'telefono'" mask="999999999"
                placeholder="{{t('ubi.telefono')}}" />
            <input  *ngIf="fcCountry != 'PERÚ'"  id="email" matInput [formControlName]="'telefono'"
                mask="999999999999999" placeholder="{{t('ubi.telefono')}}" />
            </mat-form-field>
        </div>
        <mat-form-field class="w-full fuse-mat-dense">
            <mat-label>{{ t('ubi.direccion') }}</mat-label>
            <input id="name" matInput [formControlName]="'direccion'" placeholder="{{ t('ubi.direccion') }}" />
        </mat-form-field>
        <mat-form-field class="w-full fuse-mat-dense">
            <mat-label>{{ t('ubi.departamento') }}</mat-label>
            <input id="name" matInput [formControlName]="'departamento'" placeholder="{{ t('ubi.departamento') }}" />
        </mat-form-field>
        <button class="fuse-mat-button-large w-full mt-6" mat-flat-button [color]="'primary'"
            [disabled]="fgr.invalid || fgr.disabled" (click)="doRegister()">
            <span *ngIf="!fgr.disabled">
                {{ flg_edit ? t('btn.ubi.actua') : t('btn.ubi.crear') }}
            </span>
            <mat-progress-spinner *ngIf="fgr.disabled" [diameter]="24" [mode]="'indeterminate'"></mat-progress-spinner>
        </button>
    </form>
</div>
